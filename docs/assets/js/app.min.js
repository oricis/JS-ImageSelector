window.onload = (() => { const e = { variations: { 1: { price: "20.00", name: "Colgante Maduli", description: "3 hojas, 2 colores", stock: 1 }, 2: { price: "22.00", name: "Colgante Maduli", description: "3 hojas, 3 colores", stock: 2 }, 3: { price: "20.00", name: "Colgante Maduli", description: "hilo arcoiris", stock: 1 }, 4: { price: "25.00", name: "Colgante Maduli", description: "gema esmeralda", stock: 3 }, 5: { price: "20.00", name: "Colgante Maduli", description: "cuerda marrÃ³n", stock: 1 } } }; if (void 0 !== $(".product")) { const o = "selected-border"; function s(e) { removeCssClassFromAll(i, o), addCssClassTo(e, o), t.src = e.src } const t = $("#main-image"), c = t.src; console.log("Main image src: " + c); const a = $("#variations"), i = $(".btn"); i.forEach(t => { !function (e, s) { void 0 !== e.src && e.src === s && addCssClassTo(e, o) }(t, c), t.addEventListener("click", () => { s(t), function (s, o) { const t = getLastSlice(s, "-"), c = e.variations[t], a = c.stock; setText($("#price"), c.price), setText($("#stock"), a); const i = 1 === a ? "ud" : "uds"; setText($("#stock-uds"), i), updatedSelectByValue(o, e.variations, t) }(t.id, a) }) }), a.addEventListener("change", o => { const t = o.target.value, c = e.variations[t], a = c.stock; setText($("#price"), c.price), setText($("#stock"), a); const n = 1 === a ? "ud" : "uds"; setText($("#stock-uds"), n); let r = null; i.forEach(e => { getLastSlice(e.id, "-") === t && (r = e) }), r ? s(r) : console.error("No se puede seleccionar la imagen correcta") }) } });
